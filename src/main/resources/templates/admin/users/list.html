<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org"
       th:replace="~{layout :: layout(~{::title}, ~{::main}, ~{})}">
<head>
    <title>Page Title</title>
</head>
<main>
    <div class="table-responsive" id="usersDiv">
        <b-container class="bv-example-row">
            <b-row>
                <b-col>Name</b-col>
                <b-col>Email</b-col>
                <b-col>PHone</b-col>
            </b-row>
            <b-row v-for="user in users">
                <b-col>{{user.firstName}} {{user.lastName}}</b-col>
                <b-col>{{user.email}}</b-col>
                <b-col>{{user.phone}}</b-col>
            </b-row>
        </b-container>

    </div>


    <script type="text/javascript">

      const usersVue = new Vue({
        el: '#usersDiv',
        data: {
          users: []
        }
      })

      const usersUrl = 'http://localhost:8080/json/users'
      fetch(usersUrl)
        .then(res => res.json())
        .then(json => {
          const users = json._embedded.users;
          usersVue.users = users
        })
    </script>
</main>
</html>